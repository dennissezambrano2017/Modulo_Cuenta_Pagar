<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

     <body>

          <ui:composition template="./../Plantilla/Plantilla.xhtml">

               <ui:define name="content">
                    <h:form id="form">
                         <p:growl id="messages" showDetail="true"/>
                         <!--- Boton nuevo y deshabilitar  !-->
                         <p:toolbar>
                              <p:toolbarGroup>
                                   <p:commandButton value="New" icon="pi pi-plus" 
                                                    actionListener="#{proveedorDAO.openNew()}"
                                                    update=":form:manage-product-content"
                                                    oncomplete="PF('manageProductDialog').show()"
                                                    styleClass="ui-button-success" 
                                                    style="margin-right: .5rem">
                                        <p:resetInput target=":form:manage-product-content"/>
                                   </p:commandButton>
                                   <p:commandButton id="delete-products-button" 
                                                    icon="pi pi-trash" 
                                                    styleClass="ui-button-danger" 
                                                    update="@this">
                                        <p:confirm header="Confirmation" message="Delete the selected products?"
                                                   icon="pi pi-exclamation-triangle"/>
                                   </p:commandButton>
                              </p:toolbarGroup>                   
                         </p:toolbar>
                         <!--- Lista de Tabal de datos  !-->
                         <p:dataTable id="dt-products" widgetVar="dtProducts" var="provee" value="#{proveedorDAO.listaProveedor}"
                                      reflow="true" styleClass="products-table"
                                      selection="#{proveedorDAO.selectedProveedor}" rowKey="#{provee.idProveedor}" paginator="true"
                                      rows="10" rowSelectMode="add" paginatorPosition="bottom">
                              <f:facet name="header">
                                   <div class="products-table-header">
                                        <span style="font-weight: bold">PROVEEDOR</span>

                                        <span class="filter-container ui-input-icon-left">
                                             <i class="pi pi-search"></i>
                                             <p:inputText id="globalFilter" onkeyup="PF('dtProducts').filter()" placeholder="Search"/>
                                        </span>

                                   </div>
                              </f:facet>

                              <p:column selectionMode="multiple" exportable="false"></p:column>

                              <p:column headerText="Código" sortBy="#{provee.codigo}" filterBy="#{provee.codigo}">
                                   <h:outputText value="#{provee.codigo}"/>
                              </p:column>
                              <p:column headerText="Nombre" sortBy="#{provee.nombre}" filterBy="#{provee.nombre}">
                                   <h:outputText value="#{provee.nombre}"/>
                              </p:column>
                              <p:column headerText="Contacto" sortBy="#{provee.contacto}" filterBy="#{provee.contacto}">
                                   <h:outputText value="#{provee.contacto}"/>
                              </p:column>
                              <p:column headerText="Dirección" >
                                   <h:outputText value="#{provee.direccion}"/>
                              </p:column>
                              <p:column headerText="E-mail" >
                                   <h:outputText value="#{provee.email}"/>
                              </p:column>
                              <p:column headerText="Telefono" >
                                   <h:outputText value="#{provee.telefono}"/>
                              </p:column>
                              <p:column headerText="Estado" sortBy="#{provee.estado}" filterBy="#{provee.estado}">
                                   <h:outputText value="#{provee.estado}"/>
                              </p:column>
                              <p:column exportable="false">
                                   <p:commandButton icon="pi pi-pencil" 
                                                    update=":form:manage-product-content"
                                                    oncomplete="PF('manageProductDialogEdit').show()"
                                                    styleClass="edit-button rounded-button ui-button-success"
                                                    process="@this">
                                        <f:setPropertyActionListener value="#{provee}" target="#{proveedorDAO.selectedProveedor}"/>
                                        <p:resetInput target=":form:manage-product-content-edit" />
                                   </p:commandButton>

                                   <p:commandButton class="ui-button-warning rounded-button" icon="pi pi-trash" process="@this"
                                                    >
                                        <f:setPropertyActionListener value="#{provee}" target="#{proveedorDAO.selectedProveedor}"/>
                                   </p:commandButton>
                              </p:column>

                         </p:dataTable>
                         <!---Dialogo de proveedor  !-->
                         <p:dialog header="Product Details" showEffect="fade" modal="true"
                                   widgetVar="manageProductDialog" responsive="true"
                                   height="auto" width="800px" minHeight="40">
                              <p:outputPanel id="manage-product-content" class="ui-fluid">
                                   <p:outputPanel > <!--asignar atributo de primeface !-->

                                        <div class="ui-fluid p-formgrid p-grid">
                                             <label for="Proveedor" style="width:500px;">
                                                  <h3>Dirección</h3>
                                                  <div class="p-field p-col-12 p-md-3">
                                                       <label style="padding-left: 18px">
                                                            Código: 
                                                       </label>                                            
                                                       <p:inputText  
                                                                    type="text" 

                                                                    style="width: 200px;
                                                                    background-color:silver;
                                                                    margin: 3px"
                                                                    value="#{proveedorDAO.proveedor.codigo}"/> 

                                                       <label style="padding-left: 115px">
                                                            R.U.C: 
                                                       </label>
                                                       <p:inputText id="rucProveedor"
                                                                    type="text" 
                                                                    style="width: 250px;
                                                                    margin: 3px"
                                                                    value="#{proveedorDAO.proveedor.ruc}"/>
                                                  </div> 
                                                  <div class="p-field p-col-12 p-md-3">
                                                       <label style="padding-left: 10px">
                                                            Nombre: 
                                                       </label>
                                                       <p:inputText id="nombreProveedor"
                                                                    type="text" 
                                                                    style="width: 250px; 
                                                                    margin: 3px;"
                                                                    value="#{proveedorDAO.proveedor.nombre}"/> 

                                                       <label style="padding-left: 16px">
                                                            Razón Social:
                                                       </label>
                                                       <p:inputText id="razonSclProveedor"
                                                                    type="text" 
                                                                    style="width: 250px;  
                                                                    margin: 3px;"
                                                                    value="#{proveedorDAO.proveedor.razonSocial}"/> 
                                                  </div>


                                                  <div class="p-field p-col-12 p-md-3">
                                                       <label style="padding-left: 3px">
                                                            Dirección: 
                                                       </label>
                                                       <p:inputText id="direccionProveedor"
                                                                    type="text" 
                                                                    style="width: 250px; 
                                                                    margin: 3px;"
                                                                    value="#{proveedorDAO.proveedor.direccion}"/> 

                                                       <label style="padding-left: 41px">
                                                            Teléfono:
                                                       </label>
                                                       <p:inputText id="telefonoProveedor"
                                                                    type="text" 
                                                                    style="width: 250px;  
                                                                    margin: 3px;"
                                                                    value="#{proveedorDAO.proveedor.telefono}"/> 
                                                  </div>

                                                  <div class="p-field p-col-12 p-md-3">
                                                       <label style="padding-left: 5px">
                                                            Contacto: 
                                                       </label>
                                                       <p:inputText id="contactoProveedor"
                                                                    type="text" 
                                                                    style="width: 250px;
                                                                    margin: 3px;"
                                                                    value="#{proveedorDAO.proveedor.contacto}"/> 

                                                       <label style="padding-left: 65px">
                                                            Email: 
                                                       </label>
                                                       <p:inputText id="emailProveedor"
                                                                    type="text" 
                                                                    style="width: 250px;
                                                                    margin: 3px;"
                                                                    value="#{proveedorDAO.proveedor.email}"/>  
                                                  </div>

                                                  <div class="p-field p-col-12 p-md-3">
                                                       Web page:
                                                       <p:inputText id="web_PageProveedor" 
                                                                    type="text" 
                                                                    style="width: 250px; 
                                                                    margin: 3px;"
                                                                    value="#{proveedorDAO.proveedor.webPage}"/> 
                                                  </div>
                                             </label>
                                             <br>
                                             </br>

                                             <label for="Condiciones" style="width:500px;">
                                                  <h3>Condiciones</h3>

                                                  <div class="p-field p-col-12 p-md-3">
                                                       <label style="padding-left: 8px">
                                                            Descuento: 
                                                       </label>                                               
                                                       <p:inputText id="idDescuento" 
                                                                    type="text"                                                                     
                                                                    style="width: 200px;
                                                                    margin: 3px;"
                                                                    /> 
                                                       <label style="padding-left: 54px">
                                                            Días Descuento: 
                                                       </label>  
                                                       <p:inputText id="diasDescuento" 
                                                                    type="text" 
                                                                    style="width: 222px;
                                                                    margin: 3px;"
                                                                    />
                                                  </div> 

                                                  <div class="p-field p-col-12 p-md-3">
                                                       <label style="padding-left: 18px">
                                                            Días neto: 
                                                       </label>  
                                                       <p:inputText id="diasNeto" type="text" 
                                                                    style="width: 200px; 
                                                                    margin: 3px;"
                                                                    /> 
                                                       Cant. Días Vencimiento:
                                                       <p:inputText id="cantDiasVencimiento" 
                                                                    type="text" 
                                                                    style="width: 220px; 
                                                                    margin: 3px;"
                                                                    /> 
                                                  </div>

                                                  <div class="p-field p-col-12 p-md-3">
                                                       Descripción:
                                                       <p:inputText id="descripcionProveedor" 
                                                                    type="text" 
                                                                    style="width: 200px;
                                                                    margin: 3px;"
                                                                    />  
                                                       <label style="padding-left: 87px"/> 



                                                  </div> 
                                             </label>
                                        </div>

                                   </p:outputPanel>
                              </p:outputPanel>

                              <f:facet name="footer">
                                   <p:commandButton value="Save" icon="pi pi-check" 
                                                    update="manage-product-content" process="manage-product-content @this"/>
                                   <p:commandButton value="Cancel" icon="pi pi-times" onclick="PF('manageProductDialog').hide()"
                                                    class="ui-button-secondary"/>
                              </f:facet>
                         </p:dialog>

                         <!---Dialogo de proveedor  Editar!-->
                         <p:dialog header="Product Details" showEffect="fade" modal="true"
                                   widgetVar="manageProductDialogEdit" responsive="true"
                                   height="auto" width="800px" minHeight="40">
                              <p:outputPanel id="manage-product-content-edit" class="ui-fluid">
                                   <p:outputPanel > <!--asignar atributo de primeface !-->

                                        <div class="ui-fluid p-formgrid p-grid">
                                             <label for="Proveedor" style="width:500px;">
                                                  <h3>Dirección</h3>
                                                  <div class="p-field p-col-12 p-md-3">
                                                       <label style="padding-left: 18px">
                                                            Código: 
                                                       </label>                                            
                                                       <p:inputText 
                                                                    type="text" 

                                                                    style="width: 200px;
                                                                    background-color:silver;
                                                                    margin: 3px"
                                                                    value="#{proveedorDAO.proveedor.codigo}"/> 

                                                       <label style="padding-left: 115px">
                                                            R.U.C: 
                                                       </label>
                                                       <p:inputText id="rucProveedor"
                                                                    type="text" 
                                                                    style="width: 250px;
                                                                    margin: 3px"
                                                                    value="#{proveedorDAO.proveedor.ruc}"/>
                                                  </div> 
                                                  <div class="p-field p-col-12 p-md-3">
                                                       <label style="padding-left: 10px">
                                                            Nombre: 
                                                       </label>
                                                       <p:inputText id="nombreProveedor"
                                                                    type="text" 
                                                                    style="width: 250px; 
                                                                    margin: 3px;"
                                                                    value="#{proveedorDAO.proveedor.nombre}"/> 

                                                       <label style="padding-left: 16px">
                                                            Razón Social:
                                                       </label>
                                                       <p:inputText id="razonSclProveedor"
                                                                    type="text" 
                                                                    style="width: 250px;  
                                                                    margin: 3px;"
                                                                    value="#{proveedorDAO.proveedor.razonSocial}"/> 
                                                  </div>


                                                  <div class="p-field p-col-12 p-md-3">
                                                       <label style="padding-left: 3px">
                                                            Dirección: 
                                                       </label>
                                                       <p:inputText id="direccionProveedor"
                                                                    type="text" 
                                                                    style="width: 250px; 
                                                                    margin: 3px;"
                                                                    value="#{proveedorDAO.proveedor.direccion}"/> 

                                                       <label style="padding-left: 41px">
                                                            Teléfono:
                                                       </label>
                                                       <p:inputText id="telefonoProveedor"
                                                                    type="text" 
                                                                    style="width: 250px;  
                                                                    margin: 3px;"
                                                                    value="#{proveedorDAO.proveedor.telefono}"/> 
                                                  </div>

                                                  <div class="p-field p-col-12 p-md-3">
                                                       <label style="padding-left: 5px">
                                                            Contacto: 
                                                       </label>
                                                       <p:inputText id="contactoProveedor"
                                                                    type="text" 
                                                                    style="width: 250px;
                                                                    margin: 3px;"
                                                                    value="#{proveedorDAO.proveedor.contacto}"/> 

                                                       <label style="padding-left: 65px">
                                                            Email: 
                                                       </label>
                                                       <p:inputText id="emailProveedor"
                                                                    type="text" 
                                                                    style="width: 250px;
                                                                    margin: 3px;"
                                                                    value="#{proveedorDAO.proveedor.email}"/>  
                                                  </div>

                                                  <div class="p-field p-col-12 p-md-3">
                                                       Web page:
                                                       <p:inputText id="web_PageProveedor" 
                                                                    type="text" 
                                                                    style="width: 250px; 
                                                                    margin: 3px;"
                                                                    value="#{proveedorDAO.proveedor.webPage}"/> 
                                                  </div>
                                             </label>
                                             <br>
                                             </br>

                                             <label for="Condiciones" style="width:500px;">
                                                  <h3>Condiciones</h3>

                                                  <div class="p-field p-col-12 p-md-3">
                                                       <label style="padding-left: 8px">
                                                            Descuento: 
                                                       </label>                                               
                                                       <p:inputText id="idDescuento" 
                                                                    type="text"                                                                     
                                                                    style="width: 200px;
                                                                    margin: 3px;"
                                                                    /> 
                                                       <label style="padding-left: 54px">
                                                            Días Descuento: 
                                                       </label>  
                                                       <p:inputText id="diasDescuento" 
                                                                    type="text" 
                                                                    style="width: 222px;
                                                                    margin: 3px;"
                                                                    />
                                                  </div> 

                                                  <div class="p-field p-col-12 p-md-3">
                                                       <label style="padding-left: 18px">
                                                            Días neto: 
                                                       </label>  
                                                       <p:inputText id="diasNeto" type="text" 
                                                                    style="width: 200px; 
                                                                    margin: 3px;"
                                                                    /> 
                                                       Cant. Días Vencimiento:
                                                       <p:inputText id="cantDiasVencimiento" 
                                                                    type="text" 
                                                                    style="width: 220px; 
                                                                    margin: 3px;"
                                                                    /> 
                                                  </div>

                                                  <div class="p-field p-col-12 p-md-3">
                                                       Descripción:
                                                       <p:inputText id="descripcionProveedor" 
                                                                    type="text" 
                                                                    style="width: 200px;
                                                                    margin: 3px;"
                                                                    />  
                                                       <label style="padding-left: 87px"/> 



                                                  </div> 
                                             </label>
                                        </div>

                                   </p:outputPanel>
                              </p:outputPanel>

                              <f:facet name="footer">
                                   <p:commandButton value="Save" icon="pi pi-check" 
                                                    update="manage-product-content-edit" process="manage-product-content-edit @this"/>
                                   <p:commandButton value="Cancel" icon="pi pi-times" onclick="PF('manageProductDialogEdit').hide()"
                                                    class="ui-button-secondary"/>
                              </f:facet>
                         </p:dialog>



                         <p:confirmDialog widgetVar="deleteProductDialog" showEffect="fade" width="300"
                                          message="Delete the product?" header="Confirm" severity="warn">
                              <p:commandButton value="Yes" icon="pi pi-check" actionListener="#{proveedorDAO.deleteProduct()}"
                                               process="@this" oncomplete="PF('deleteProductDialog').hide()"/>
                              <p:commandButton value="No" type="button" styleClass="ui-button-secondary" icon="pi pi-times"
                                               onclick="PF('deleteProductDialog').hide()"/>
                         </p:confirmDialog>

                         <p:confirmDialog global="true" showEffect="fade" width="300">
                              <p:commandButton value="Yes" type="button" styleClass="ui-confirmdialog-yes" icon="pi pi-check"/>
                              <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no ui-button-secondary"
                                               icon="pi pi-times"/>
                         </p:confirmDialog>
                    </h:form>

               </ui:define>
          </ui:composition>
     </body>
</html>
